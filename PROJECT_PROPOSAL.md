# ECNU Eat - 项目策划书 & 规则

## 1. 项目概述
**使命**：通过游戏化决策和社交互动，解决华东师范大学（ECNU）师生“这顿吃什么”的世纪难题。

**目标用户**：患有“选择困难症”的 ECNU 学生及教职工。

## 2. 核心功能

### 2.1. 决策引擎 (游戏化)
拒绝枯燥的列表，我们提供可靠且有趣的随机选择方式：
*   **幸运大转盘 (The Big Wheel)**: 可自定义权重的转盘（例如：给喜欢的餐厅更大的扇区）。
*   **美食抽卡 (Gacha Card Pull)**: 点击抽取“美食卡”。卡片分稀有度（SSR = 昂贵但偶尔想吃的餐厅，N = 第一食堂）。
*   **老虎机 (Slot Machine)**: 匹配三个图标（食堂 + 楼层 + 窗口）。

### 2.2. 社交与协同点餐
吃饭往往是社交活动。我们解决“随便...哎呀不要那个”的死循环。
*   **选项合并 (Option Merging)**:
    *   用户 A 创建列表：[麦当劳, 北区食堂].
    *   用户 B 创建列表：[饺子, 韩国料理].
    *   **合并**: 系统生成一个包含 [麦当劳, 北区食堂, 饺子, 韩国料理] 的联合池用于抽奖。
*   **共享房间**: 一个临时链接，多人加入，添加各自偏好，并同步观看抽奖结果。

### 2.3. ECNU 专属语境
*   **地图集成**: 按食堂组织窗口（河东、河西、图书馆食堂等）。
*   **众包菜单**: 允许用户添加新窗口或标记状态（例如：“北区食堂3号窗口正在装修”）。

## 3. 推荐流程 (规则)

1.  **阶段 1: 设置**:
    *   用户打开 App。
    *   选择校区 (闵行 / 普陀)。
    *   选择饭点 (早餐 / 午餐 / 晚餐)。
2.  **阶段 2: 选项池**:
    *   App 根据情境建议默认选项池。
    *   User 编辑池子 (移除“昨天刚吃过”的选项)。
    *   *可选*: 邀请朋友。朋友添加他们的限制条件。
3.  **阶段 3: 仪式 (The Event)**:
    *   选择随机方式 (转盘/抽卡/老虎机)。
    *   **结果**: 系统锁定一个选择。
4.  **阶段 4: 执行 (一票否决权)**:
    *   用户每局有 **1 次否决权 (Veto)**。
    *   如果使用了否决权，重新抽取 (最多重抽 3 次)。
    *   最终结果具有约束力 (食神的旨意)。

## 4. 技术架构提案
*   **前端**: React + Vite (响应式设计 Responsive Design)。采用一套代码，同时完美适配 **电脑网页端 (Desktop Web)** 和 **手机浏览器 (Mobile Web)**。
*   **兼容性**: 支持 PWA，手机端可“安装”；电脑端浏览器直接访问，体验无缝切换。
*   **设计**: 现代 CSS / Tailwind。
    *   **手机端**: 优化触控体验，大按钮，单手操作友好。
    *   **电脑端**: 利用宽屏优势，展示更丰富的信息（如同时显示地图和菜单列表）。
*   **后端** (阶段 2): Node.js/Supabase 用于实时分享。
*   **存储** (阶段 1): LocalStorage 用于保存用户偏好/自定义列表。

## 5. 未来扩展构想
*   **美食集邮册**: “收集”你吃过的每一个窗口。100% 全满达成勋章。
*   **评价/避雷**: “辣度”预警。
*   **营养信息**: 随机过程中加入卡路里估算（例如：“为了健康，只抽 < 500kcal 的”）。
*   **“随机饭搭子”模式**: 寻找 ECNU 里同样不知道吃什么的陌生人组队？（也许太社死，但很有趣）。

---
*Created by Antigravity*
